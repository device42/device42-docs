---
title: "Application Groups"
---

import ThemedImage from '@theme/ThemedImage'
import useBaseUrl from '@docusaurus/useBaseUrl'

## Overview

:::note
Affinity Groups have been renamed **Application Groups**. AppFocus Filters are now called [**Application Group Calculation Rules**](calculation-rules).
:::

Application Groups are an opinionated view of the impactful applications and their dependencies in your environment. They are configurable via [Calculation Rules](calculation-rules) (and templates). Application Groups are based on the communication patterns observed in your environment.

After discovery has been run within your environment (we recommend a 30-day minimum period), the detailed application dependency information that has been collected should now be ready to use with Application Groups.

The collected information includes service names and communication details. Application Groups are then calculated based on client communication to a particular service listening on a TCP or UDP port and server process. 

You define the services critical to your use case, before Application Groups are processed. The result is a visualized grouping of communication patterns.

### Pinned Services

Application Groups use the concept of pinned services. Pinned services represent the ‘core dependencies’ of your infrastructure, and discovered database services are automatically pinned by default. Application Group impact charts are only created for servers with pinned services, and you are free to pin other services you consider important, as well.

:::note
Pin Application Groups to keep important items at the top of the list.
:::

<ThemedImage
  alt="Application Group pinning"
  sources={{
    light: useBaseUrl('/assets/images/application-groups/pin-ag-light.png'),
    dark: useBaseUrl('/assets/images/application-groups/pin-ag-dark.png'),
  }}
/>

## Using Application Groups - How-To

Please note that you need a ADM license to use Application Groups. Please email support at [support@device42.com](mailto:support@device42.com) to enable this module in your Main Appliance.

From the Device42 menu, navigate to **Applications > Application Groups**.

From this screen, enter your search criteria and click the **Chart** link next to the Application Group you'd like to view. Application Groups are automatically calculated daily at 2 AM for all pinned services.

![](/assets/images/WEB-721_Affinity_Groups_Pic1.png)

Application Component Categories are now also used in Application Groups. Any Application Component Categories associated with a device used to create an Application Group will be associated with the Application Group. You can now quickly drill down to your discovered database impact Application Groups or web server dependency Application Groups at the click of a button.

![](/assets/images/WEB-721_Affinity_Groups_Pic2.png)

### Running Application Groups

Application Groups are calculated daily at 2 AM. You can also manually run Application Groups from several locations in the UI:

- Click the **ellipsis icon** and select **Run Background processing**.
  <ThemedImage
    alt="Run Application Group from the ellipsis menu"
    sources={{
      light: useBaseUrl('/assets/images/application-groups/my-ag-ellipsis-run-light.png'),
      dark: useBaseUrl('/assets/images/application-groups/my-ag-ellipsis-run-dark.png'),
    }}
  />

- Bulk run selected Application Groups from the **Actions** menu by selecting **Run Background processing**.
  
  <ThemedImage
    alt="Bulk run Application Groups"
    sources={{
      light: useBaseUrl('/assets/images/application-groups/my-ag-bulk-run-action-light.png'),
      dark: useBaseUrl('/assets/images/application-groups/my-ag-bulk-run-action-dark.png'),
    }}
  />

- Select and Application Group from the list page and click **Process Now**.
  
  <ThemedImage
    alt="Process Application Group now"
    sources={{
      light: useBaseUrl('/assets/images/application-groups/ag-process-now-light.png'),
      dark: useBaseUrl('/assets/images/application-groups/ag-process-now-dark.png'),
    }}
  />

Hover over the status chip for status feedback information the processing group.

  ![Calculation Rule Status](/assets/images/calculation-rules/calc-rule-execution-statuses.png)

### Issues Processing Application Groups

**Unmanaged Application Groups**

Application Groups won't run unless they are associated with a Calculation Rule. If you updated a legacy Affinity Group with a single resource, or have deleted an associated Calculation Rule, you'll see an notification about "unmanaged Application Groups" prompting you to associate the resource with a Calculation Rule.

Edit or create a new rule and [select **Fixed** as the **Starting Point**](calculation-rules#starting-points) and add the orphaned resource to the rule. 

![Unmanaged Application Group Notification](/assets/images/application-groups/unmapped-ag-notice.png)

**Invalidated Application Groups**

If you encounter the following notifications, create a new Calculation Rule with the resources of the original group as an AppFocus (**Starting Point**) and select an existing **Group By** field.

- If you change the **Group By** configuration of a Calculation Rule, the Application Group will be invalidated and you'll see the following notification.

  ![Invalidated Application Group Notification](/assets/images/application-groups/invalidated-ag-notice.png)

- If an associated Calculation Rule included a custom field grouping and that custom field is deleted, the Application Group will be invalidated and processing will fail. 

  ![Invalidated Application Group Notification](/assets/images/application-groups/invalidated-ag-notice-custom-field.png)

### Pinning other 'Core' services

Application Groups are only generated for your Core services, which are those services that have been pinned in Device42. If you don't see the Application Group Impact Chart you're looking for, ensure you've pinned the relevant services. Note that only pinned service listeners will lead to the formation of an Application Group.

Navigate to your critical Core services and pin them using the dropdown menu:

![](/assets/images/Screen-Shot-2022-05-29-at-7.47.50-PM.png)

### Database Services - Pinned by default

Database services are considered 'core services' and are therefore pinned automatically. Notice the green checkmarks indicating they are already pinned:

![](/assets/images/WEB-721_Affinity_Groups_Pic4.png)

### Viewing Application Group Impact Charts

Simply click the **Chart** link next to an Application Group name to display the associated Application Group Impact Chart. Use the controls at the left of the charts to highlight or search for Application Group Dependencies in the chart.

![](/assets/images/18.04.00_affinity-groups-chart-1.png)  

Note that Application Components are now displayed as stand-alone nodes, and are connected to any associated services and/or devices via dotted lines. You can also now run a **Service Dependencies Report** for Application Groups from the Application Group chart view page. The Services Dependencies report details all the communications for devices within an Application Group.

### Application Group Timelines

Application Group timelines make it easy to see how a given Application Group changed over time. Changes to both Devices and Services are marked along the timeline, indicating when devices and/or services were added or removed from each Application Group. The timeline can also be used to quickly navigate to specific dates of interest, including those when changes occurred.

![](/assets/images/18.04.00_affinity-groups-timeline-1.png)

Click on a vertical point in the timeline at the bottom of the chart to see a summary of changes. Click **Show Details** to see more information about the changes.

![](/assets/images/18.04.00_affinity-groups-timeline-2.png)

### Application Group Calculations

With Application Group calculations users can view an Application Group calculation from just about any device — open the hamburger menu, and choose **Application Group Calculation**.

<ThemedImage
  alt="Application group calculation option"
  sources={{
    light: useBaseUrl('/assets/images/application-groups/affinity-group-calculation-light.png'),
    dark: useBaseUrl('/assets/images/application-groups/affinity-group-calculation-dark.png'),
  }}
/>
<br/><br/>

On the Application Group Calculation page, you can see the dependencies of the selected device or database. Click on the device to open the summary of the device and two buttons. Click on **View** to see more information on the device, or click on **Topology** for a detailed association map.

<ThemedImage
  alt="Application group calculation detailed view"
  sources={{
    light: useBaseUrl('/assets/images/application-groups/affinity-group-calculation-view-light.png'),
    dark: useBaseUrl('/assets/images/application-groups/affinity-group-calculation-view-dark.png'),
  }}
/>

## Add Application Groups to a Business Application

You can now use a new command on the Application Group list page to quickly and easily add multiple Application Groups to an existing or new business application. Simply click up to five Application Groups on the list page and select **Add Application Groups to Business Applications** from the Actions menu.

![](/assets/images/WEB-721_Affinity_Groups_Pic9.png)

Select the Business Application you want, or add a new one, and click **Add objects to the Business Application**.

![](/assets/images/WEB-721_Affinity_Groups_Pic10.png)

The Application Groups added will be visible on the Business Application canvas. The Devices in each Application Group added will have their own color. There are up to five different colors used to help indicate which devices came from which Application Group.

![](/assets/images/WEB-721_Affinity_Groups_Pic11.png)
