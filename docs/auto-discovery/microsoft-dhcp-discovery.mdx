---
title: "Microsoft DHCP Discovery"
sidebar_position: 4.8
---

import ThemedImage from '@theme/ThemedImage'
import useBaseUrl from '@docusaurus/useBaseUrl'

# Microsoft DHCP Discovery

Select the Microsoft DHCP discovery type by navigating to **Discovery > DHCP** on the Main Appliance. 

<ThemedImage
  alt="DHCP menu location and list page"
  sources={{
    light: useBaseUrl('/assets/images/microsoft-dhcp-discovery/dhcp-menu-and-list-page-light.png'),
    dark: useBaseUrl('/assets/images/microsoft-dhcp-discovery/dhcp-menu-and-list-page-dark.png'),
  }}
/>

Microsoft Dynamic Host Configuration Protocol (DHCP) is a service provided by the Microsoft Windows Server operating system. DHCP is a network management protocol used to dynamically assign IP addresses and other network configuration parameters, like the subnet mask, default gateway, and DNS servers, to devices on a network.

If you already use Microsoft DHCP Servers in your environment, Microsoft DHCP Discovery will automatically populate records of discovered DHCP Servers, IP Addresses, and subnets; including additional DHCP details like DHCP Scope, State, Lease Duration, DNS information, Start and End address ranges. 

## Discovery

Microsoft DHCP Discovery uses WMI by default, but WinRM is also supported and can be enabled in the job configuration. The **URL prefix** and **Port** fields will default accordingly upon selecting **Discover Using WinRM**. 

Although WinRM is fast and Microsoft's preferred protocol, we don't necessarily recommend updating existing jobs to use WinRM, as we currently (v19.06) use NTLM, which Microsoft is in the process of deprecating. We'll use Kerberos in the near future.

:::note
If **Discovery Using WinRM** is not enabled, pair a WDS with the selected Remote Collector to use WMI. 
:::

<ThemedImage
  alt="DHCP WinRM option"
  sources={{
    light: useBaseUrl('/assets/images/microsoft-dhcp-discovery/enable-winrm-discovery-light.png'),
    dark: useBaseUrl('/assets/images/microsoft-dhcp-discovery/enable-winrm-discovery-dark.png'),
  }}
/>


## Additional Options

You can set a schedule to run the job automatically, turn off the default **Create Device from DHCP lease information** option, and set a **Service Level**.

<ThemedImage
  alt="DHCP WinRM option"
  sources={{
    light: useBaseUrl('/assets/images/microsoft-dhcp-discovery/dhcp-miscellaneous-options-1-light.png'),
    dark: useBaseUrl('/assets/images/microsoft-dhcp-discovery/dhcp-miscellaneous-options-1-dark.png'),
  }}
/>

You can also link a **Customer** to the discovered items, select a **VRF Group for subnets**, and set a **Subnet Category for discovered subnets**.

<ThemedImage
  alt="DHCP WinRM option"
  sources={{
    light: useBaseUrl('/assets/images/microsoft-dhcp-discovery/dhcp-miscellaneous-options-2-light.png'),
    dark: useBaseUrl('/assets/images/microsoft-dhcp-discovery/dhcp-miscellaneous-options-2-dark.png'),
  }}
/>
