---
title: "Autodiscovery"
sidebar_position: 1
---

import ThemedImage from '@theme/ThemedImage'
import useBaseUrl from '@docusaurus/useBaseUrl'

## Device42 Autodiscovery Jobs

Device42 offers several autodiscovery tools, some of which are internal to Device42 while some run externally. Find the internal autodiscovery job types under the **Discovery** menu of the Main Appliance. If you are new to Device42 autodiscovery, start with a [Discovery Hub](/getstarted/discovery-hub.mdx) network scan to establish baseline discovery information.

You may run the autodiscovery tools in any combination and order that makes sense for your environment. All autodiscovery jobs can be run on a regular schedule to automate a significant portion of your network documentation.

:::caution
Do not set up an autodiscovery scan using critical production account credentials! Please create a separate, dedicated account to use only for discovery.

Account lock-out could result in an otherwise avoidable outage depending on your permissions and configured password policies. You as a customer are responsible for any such behavior.
:::

### Start With the Network

Running network discovery first is recommended to lay the framework for the rest of your discoveries. By first discovering your network, you collect data on the in-use subnets that contain all of the IP addresses to be discovered and construct the Layer 2 framework by discovering VLANs with live MAC addresses. 

Note that starting with the network is not a requirement, but if IPs are discovered before adding subnets, those IPs will end up in a catch-all subnet named "undefined". In this case, you can manually add relevant subnets before re-running the discovery.

### Discovery Exclusion List

Prevent discovery from attempting communication with specific devices by adding them to the global exclusion list under **Tools > Global Settings**.

The exclusion list is automatically copied and displayed on all new jobs to prevent newly created jobs from attempting any discovery action on these IP addresses.  

The list of excluded IPs copied to the job can be seen in the newly created job's **Excluded Server(s)** section.

<ThemedImage
  alt="Exclude server(s) box in discovery job"
  sources={{
    light: useBaseUrl('/assets/images/autodiscovery/exclude-servers-light.png'),
    dark: useBaseUrl('/assets/images/autodiscovery/exclude-servers-dark.png'),
  }}
/>

Note that previously created jobs will not be affected or updated with changes to the exclusion list.

### Cloning Discovery Jobs

Clone an autodiscovery job to create a copy of the job with all its settings without manually re-entering all the job details. You can then modify the cloned job for your specific purposes.   

![](/assets/images/WEB-729_ad-page-clone-job-1.png)

1. From a discovery list page, click on a discovery **job name** of the job you want to clone and then click **Edit**.

  <ThemedImage
    alt="Edit existing job"
    sources={{
      light: useBaseUrl('/assets/images/autodiscovery/edit-job-light.png'),
      dark: useBaseUrl('/assets/images/autodiscovery/edit-job-dark.png'),
    }}
  />

2.  Click the ellipse menu in edit mode and **Clone Job**.
   
  <ThemedImage
    alt="Clone existing job"
    sources={{
      light: useBaseUrl('/assets/images/autodiscovery/clone-job-light.png'),
      dark: useBaseUrl('/assets/images/autodiscovery/clone-job-dark.png'),
    }}
  />

3. Enter a new name for the cloned job and click **Create**.
   
  <ThemedImage
    alt="Name new cloned job"
    sources={{
      light: useBaseUrl('/assets/images/autodiscovery/name-clone-light.png'),
      dark: useBaseUrl('/assets/images/autodiscovery/name-clone-dark.png'),
    }}
  />

## Agent-Based Discovery

There are special situations when using an agent for discovery makes more sense. We offer optional autodiscovery agents for many platforms. See [Device42 Agent-Based discovery](agent-based-discovery.mdx) to learn more.

## Agent-Based Offline Discovery and Upload Tool

There are some edge cases where the network, or lack of network, doesn’t allow communication back to the main Device42 appliance for a variety of reasons.

Whether remote collectors can’t be deployed or the policy simply doesn’t allow it, we've got the solution: 
- See [Device42 Offline Agent-based discovery](agent-based-offline-discovery.mdx)
- Download the [Offline Discovery Data Processing Tool or Agent Log Upload Utility](https://www.device42.com/miscellaneous-tools/).

## Blade Systems Discovery

Use SNMP discovery to collect HP and IBM Blade System (or Blade Center) chassis and blade details. See [Blade Systems Autodiscovery](auto-discovery/blade-systems-auto-discovery.mdx) for more information. 

The Cisco UCS Manager is supported as well. You can grab chassis, blade, service profile information, and more. See [Cisco UCS Cluster](cisco-ucs-auto-discovery.mdx) for more information.

## Cloud Platform Discovery

Connect to Amazon AWS, Alibaba Cloud, Microsoft Azure, Digital Ocean, Google Cloud, Linode, and OpenStack from the cloud discovery under **Discovery > Cloud**. Cloud discovery details can be found on the [Cloud Platforms Autodiscovery](cloud-auto-discovery/index.mdx) page.

## DNS Autodiscovery

DNS autodiscovery is built into Device42 and can do zone transfer(s) from your DNS server(s). DNS autodiscovery is run and scheduled from the Device42 web UI under **Discovery > DNS Zone Sync (One way)**.

## Hypervisor / \*nix / Windows Autodiscovery

Hypervisors, Windows, and Linux/UNIX discovery jobs can all be created under **Discovery > HyperVisors / \*nix / Windows**.

- Windows-based machine inventory details are discovered with WMI.
- Linux machines' inventory details are discovered via SSH.
- VMWare hypervisor host and guest VM details are discovered using appropriate APIs (VMware, WMI).
- Hyper-V hypervisors/guests are discovered as Windows machines using WinRM, and documented separately.

Visit the dedicated page for each machine type:
- [VMware and Virtual Machine discovery](virtual-machine-auto-discovery.mdx)
- [Linux/UNIX discovery](linux-unix-server-auto-discovery.mdx)
- [Windows and Hyper-V discoveries](/auto-discovery/windows-and-hyper-v-auto-discovery.mdx)

### Scanning Timeout, Retries, and Failure Behavior

For *nix scans (via SSH), you can set the scanning timeout when configuring the autodiscovery job under the **Miscellaneous** section.

  <ThemedImage
    alt="Set *nix timeout"
    sources={{
      light: useBaseUrl('/assets/images/autodiscovery/timeout-option-light.png'),
      dark: useBaseUrl('/assets/images/autodiscovery/timeout-option-dark.png'),
    }}
  />

Retries are done on WDS (Windows Discovery Service) scans. WDS retries a scan until it either gets a successful set of results or fails with the same errors across several retries. This design accounts for sporadic failures due to system load or temporary network issues with WMI/WDS.

## IPMI Autodiscovery

Discover iLO, iDrac, or other IPMI/BMC boards with basic hardware info and BMC IP and MAC address for a given IP range. If the server has already been discovered by OS-level discovery methods, the BMC IP and MAC address will show up in the device properties.

Visit [IPMI/Redfish Autodiscovery](ipmi-auto-discovery.mdx) for details.

## Midrange / Mainframe discovery (IBM AS/400 and z/OS)

Device42 supports agent-less mainframe and mid-range discovery of both the [IBM i / AS400 mid-range](ibm-i-as400.mdx) platform and the [IBM z/OS mainframe platform](z-os-ibm-mainframe.mdx).

## Network / SNMP Autodiscovery

Run an SNMP discovery job from the Device42 web UI main menu under **Discovery > SNMP**.

Using SNMP v1/v2c/v3 discovery for network devices, you can automate the discovery of:

- Network device inventory
- Subnets / VLANs
- IP to MAC associations
- MAC to switch port associations
- Switch port status and remote port associations

Visit [SNMP Network Discovery](auto-discovery/network-auto-discovery.mdx) for more information.

## Node Data From Chef and Puppet

To manage and integrate your configuration management data with Device42, you can use the following scripts:

- Send Ohai node data from Chef server to Device42: [Sync node data from Chef](https://github.com/device42/chef_to_device42_sync_py).

- Sync Puppet facts to Device42: [Script to sync Puppet nodes information](https://github.com/device42/puppet_to_device42_sync_py).

- See the [Device42 API Autodiscovery GitHub repo](https://github.com/device42/Device42-AutoDiscovery-Scripts) for another Puppet integration script that reads the YAML factor files and populates inventory details in Device42 using the RESTful API.

## Other SNMP-Based Discovery

SNMP discoveries can also be used to discover many other types of devices, like power devices, UPS, ATS, and other SNMP-compatible network-connected hardware. Many environmental sensors also support SNMP discovery. 

To run an SNMP v1/v2c/v3 discovery against any SNMP-compatible endpoint, see [SNMP - Network Discovery](network-auto-discovery.mdx).

## Ping Sweep Utility

The open-source, standalone [Ping Sweep tool](https://www.device42.com/autodiscovery/) uses NMAP in the background to run ping sweeps against the selected network(s), uploading discovered IP, MAC, and reverse DNS details via Device42's RESTful APIs. The Ping Sweep tool is written in .NET.

There is also a ping sweep tool built into Device42. Find it in the UI under **Discovery > Ping Sweep**. Note that the UI-based option may be deprecated in the future and the standalone tool is much faster.

## Remote Collector (RC)

The Device42 remote collector (RC) is a lightweight virtual appliance (a VM) that can be quickly deployed, for example, in places like a secure network segment. RCs can be selected to run autodiscovery jobs by simply choosing them when creating the job. Choose the desired RC from the **Remote Collector** dropdown when initially setting up a new autodiscovery job, or editing an existing discovery job. Most autodiscovery jobs that can be launched from the Device42 **Discovery** menu support running from a deployed RC.

For more information head to the dedicated [Remote Collector page](auto-discovery/remote-collector-rc.mdx).

## Scripts for Linux, Solaris, Windows, and Mac

There is a selection of open-source scripts on the Device42 GitHub page: 

- For Mac, Linux, and Solaris autodiscovery, see the [`nix_bsd_mac_inventory`](https://github.com/device42/nix_bsd_mac_inventory) repository.
- Windows discovery scripts can be found on the [Device42 GitHub repository](https://github.com/device42). 

Windows scripts use PowerShell 2.0/iPython to get individual Windows host details and to get Windows machines. Details are relayed to the Device42 Main Appliance via the API. The Linux, Solaris, and Mac scripts connect to remote servers using SSH to gather inventory data, sending that data back via the Device42 RESTful API.

## Using REST APIs

You can automate inventory management and integrate with your own scripts or other programs using the Device42 RESTful APIs as shown in the [Create Hardware Models](how-to-videos/api-imports-add-create-hardware-models.md) video.

## VMware / Citrix XenServer / oVirt / Redhat Virtualization / KVM

Hypervisors are discovered via the Device42 web UI under **Discovery > HyperVisors / \*nix / Windows**. Using native APIs, Device42 connects to your VMWare vCenter server(s), ESX server(s), Citrix XenServer, oVirt, or Redhat Virtualization servers and retrieves host details, inventory details, and guest VM details.

See [Virtual Machine Autodiscovery](auto-discovery/virtual-machine-auto-discovery.mdx) for more information.

## Next Steps

To dive deeper into specific autodiscovery topics, take a look at this category's subpages in the sidebar.
